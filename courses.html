<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COURSES</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark ">
        <a href="#" class="navbar-brand"><img src="https://cdn.glitch.global/6b122974-3f9e-4f87-ab57-a8ff9ae70172/Sans%20titre%20(10).png?v=1671836510470" style="height: 60px; padding-top: 0px;"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon">
            
          </span>
        </button>
        <div class="collapse navbar-collapse  " id="navbarNavDropdown" style="justify-content:flex-end; padding-right:2%; ">
          <ul class="navbar-nav " style="font-size: 20px;">
            <li class="nav-item active ">
              <a class="nav-link" href="home.html" >Home </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="courses.html">Courses</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="About.html">About</a>
            </li>
           
          </ul>
        </div>
      </nav>
    <div class="container d-flex mt-5">
        <div class="asidBar col-3">
            <input type="text" placeholder="Search" class="form-control" id="myInput" onkeyup="SearchByName()">
            <h2>Category</h2>
            <ul type="none" >
                <li><button class="btn" onclick="SearchByCategoryALL()"  value="ALL">ALL</button></li>
                <li><button class="btn" onclick="SearchByCategoryHTML()"  value="HTML">HTML</button></li>
                <li><button class="btn" onclick="SearchByCategoryCSS()"  value="CSS" >CSS</button></li>
                <li><button class="btn" onclick="SearchByCategoryJS()" value="JS" >JS</button></li>
                <li><button class="btn" onclick="SearchByCategoryPHP()"  value="PHP">PHP</button></li>
            </ul>
            <h2>Price</h2>
            0$<input type="range" id="price" min="0" max="100" onclick="SearchByPrice()" >100$<br>
            <label>Value:</label><span id="p">..$</span>
        </div>
        <div class="courses col-9 d-flex flex-wrap justify-content-around" >
            <p id="pan" style="display: none; font-size: 40px;">Sorry no result found</p>
        </div>
    </div>
    <footer class="bg-light text-center text-lg-start mt-10 ">
  
        <div class="text-center p-3" style="background-color: white">
          © (2022-2023) Copyright:
          <a class="text-dark" href="home.html">CHALABI Hossam</a>
        </div>
      </footer>
    <script src="courses.js"></script>
    <script>
        var content = document.querySelector('.courses');

function creationCours(path, title, price) {
    let div = document.createElement('div');
    div.setAttribute('class', 'card col-3 me-4 mb-3 mydiv');
    //me:espace des cotés et mb:espace top et bottom
    let img = document.createElement('img'),
        p = document.createElement('p'),
        span = document.createElement('span');
        div.setAttribute('style', 'text-align: center;');
    img.src = path;
    img.setAttribute('class', 'card-img ');
    img.setAttribute('style', 'height:140px;');
    let contenu = document.createTextNode(title);
    p.appendChild(contenu);
    p.setAttribute('class', 'card-tilte');
    p.setAttribute('style', 'margin-bottom:30px;');
    let contenu2 = document.createTextNode(price);
    span.appendChild(contenu2);
    span.setAttribute('class', 'card-text ');
    span.setAttribute('style', 'font-weight: bold; bottom: 2px;');
    div.appendChild(img);
    div.appendChild(p);
    div.appendChild(span);
    content.append(div)
}


courses.forEach(function(element) {
    creationCours(element.image, element.title, element.price);
})



function SearchByName() {
    var input, filter, div, p, a, i, txtValue;
    var c=0;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    div = document.getElementsByClassName("mydiv");
    for (i = 0; i < div.length; i++) {
        a = div[i].getElementsByTagName("p")[0];
        txtValue = a.textContent ;//retourner le contenu d'un element
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
            div[i].style.display = "";
            document.getElementById("pan").setAttribute("style","display:none ;font-size: 40px;");
        } else {
            div[i].style.display = "none";
            c++;
            
            
        }
    }
    if(c==19){document.getElementById("pan").setAttribute("style","display: ;font-size: 40px;");}
}
function SearchByPrice(){
    var price,i,p,txtValue;
    var c=0;
    price=document.getElementById("price").value;
    document.getElementById("p").innerHTML=price+"$";
    div = document.getElementsByClassName("mydiv");
    for (i = 0; i < div.length; i++) {
        p = div[i].getElementsByTagName("span")[0];
        txtValue = p.textContent ;
        console.log(txtValue);
        if ( Number(txtValue)<=price) {
            div[i].style.display = "";
            document.getElementById("pan").setAttribute("style","display:none ;font-size: 40px;");
        } else {
            div[i].style.display = "none";
            c++;
        
           
        } 
    }
    if(c==19){document.getElementById("pan").setAttribute("style","display: ;font-size: 40px;");}
}
function SearchByCategoryALL(){

var i,div ;
div = document.getElementsByClassName("mydiv");
for(i=0;i<courses.length;i++){
    div[i].style.display = "";}  
}
function SearchByCategoryHTML(){

    var i,div ;
    div = document.getElementsByClassName("mydiv");
    for(i=0;i<courses.length;i++){
        if(courses[i].category=='HTML'){
        div[i].style.display = "";}
    else {
            div[i].style.display = "none";
           
        } 
    }
}
function SearchByCategoryCSS(){

var i,div ;
div = document.getElementsByClassName("mydiv");
for(i=0;i<courses.length;i++){
    if(courses[i].category=='CSS'){
    div[i].style.display = "";}
else {
        div[i].style.display = "none";
       
    } 
}
}
function SearchByCategoryJS(){

var i,div ;
div = document.getElementsByClassName("mydiv");
for(i=0;i<courses.length;i++){
    if(courses[i].category=='JS'){
    div[i].style.display = "";}
else {
        div[i].style.display = "none";
       
    } 
}
}
function SearchByCategoryPHP(){

var i,div ;
div = document.getElementsByClassName("mydiv");
for(i=0;i<courses.length;i++){
    if(courses[i].category=='PHP'){
    div[i].style.display = "";}
else {
        div[i].style.display = "none";
       
    } 
}
}



    </script>
    
</body>
</html>